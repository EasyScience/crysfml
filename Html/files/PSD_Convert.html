<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>PSD_Convert</title>
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
body {
  margin: 5px 5px 5px 5px;
  background-color: #ffffff;
}
/* ========== Text Styles ========== */
hr { color: #000000}
body, table, span.rvts0 /* Font Style */
{
 font-size: 10pt;
 font-family: 'Arial', 'Helvetica', sans-serif;
 font-style: normal;
 font-weight: normal;
 color: #000000;
 text-decoration: none;
}
span.rvts1 /* Heading */
{
 font-weight: bold;
 color: #0000ff;
}
span.rvts2 /* Subheading */
{
 font-weight: bold;
 color: #000080;
}
span.rvts3 /* Keywords */
{
 font-style: italic;
 color: #800000;
}
a.rvts4, span.rvts4 /* Jump 1 */
{
 color: #008000;
 text-decoration: underline;
}
a.rvts5, span.rvts5 /* Jump 2 */
{
 color: #008000;
 text-decoration: underline;
}
span.rvts6 /* Font Hint */
{
 color: #a0a0a0;
}
span.rvts7 /* Font Hint Title */
{
 font-size: 15pt;
 font-family: 'Tahoma', 'Geneva', sans-serif;
 font-weight: bold;
 color: #696969;
}
span.rvts8 /* Font Hint Bold */
{
 font-weight: bold;
 color: #a0a0a0;
}
span.rvts9 /* Font Hint Italic */
{
 font-style: italic;
 color: #a0a0a0;
}
span.rvts10 /* Font Style */
{
 font-size: 16pt;
 font-family: 'Tahoma', 'Geneva', sans-serif;
 color: #ffffff;
}
span.rvts11 /* Font Style */
{
 font-family: 'MS Sans Serif', 'Geneva', sans-serif;
 color: #808080;
}
/* ========== Para Styles ========== */
p,ul,ol /* Paragraph Style */
{
 text-align: left;
 text-indent: 0px;
 padding: 0px 0px 0px 0px;
 margin: 0px 0px 0px 0px;
}
.rvps1 /* Centered */
{
 text-align: center;
}
.rvps2 /* Paragraph Style */
{
 text-align: left;
 text-indent: 0px;
 background: #0000ff;
 padding: 5px 5px 2px 5px;
 margin: -5px -5px 18px -5px;
}
.rvps3 /* Paragraph Style */
{
 text-align: center;
 background: #e4e4e4;
 margin: 20px 0px 0px 0px;
}
--></style>
<link rel="StyleSheet" href="hnd.css" type="text/css"/>
<script type="text/javascript">if(top.frames.length == 0) { sTopic = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length); top.location.href="../crysfml.htm?" + sTopic; }</script>
<script type="text/javascript" src="jquery.min.js"></script>
<script type="text/javascript" src="jquery.cookie.js"></script>
<script type="text/javascript" src="hnd.js"></script>
<meta name="generator" content="HelpNDoc Professional Edition"></head>
<body>
<h1 class=rvps2><span class=rvts0><span class=rvts10>PSD_Convert</span></span></h1>
<p>!!---- Subroutine psd_convert(mpsd,gamm,gamp,nup,xobs,zobs,cath,anod,ierr)</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; Integer, Intent(In)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: mpsd</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; real(kind=cp), Intent(In)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: gamm</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; real(kind=cp), Intent(In Out)&nbsp; :: gamp</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; real(kind=cp), Intent(In Out)&nbsp; :: nup</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; real(kind=cp), Intent(Out)&nbsp;&nbsp;&nbsp;&nbsp; :: xobs</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; real(kind=cp), Intent(Out)&nbsp;&nbsp;&nbsp;&nbsp; :: zobs</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; real(kind=cp), Intent(in Out)&nbsp; :: cath</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; real(kind=cp), Intent(in Out)&nbsp; :: anod</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; Integer, Intent(Out)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :: ierr</p>
<p>&nbsp;&nbsp;&nbsp; !!----</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; Original name: d19amd, now generalized to a series of PSDs</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; Subroutine for getting Gamma and Nu of a reflections spot (GamP,NuP), given the</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; gamma angle of the detector (GamM) and the pixel values (cath,anod). This is</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; calculated when mpsd &gt; 0, otherwise the inverse calculation is done. In both</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; cases the detector coordinates (xobs,zobs) in mm are also calculated.</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; The caracteristics of the detector are accessed via de global variable PSD of</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; Type(Psd_Val_Type), that should be set by the calling program.</p>
<p>&nbsp;&nbsp;&nbsp; !!----</p>
<p>&nbsp;&nbsp;&nbsp; !!--&lt;&lt;&nbsp;&nbsp;&nbsp; Original Comment:</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; Specifically for D19A bannana detector, 4 x 64 degrees - 16 x 512</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; cells and vertically curved.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; R.F.D. STANSFIELD SEP-83</p>
<p>&nbsp;&nbsp;&nbsp; !!----</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; Modified for general case GamM .NE. GamP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Feb-84</p>
<p>&nbsp;&nbsp;&nbsp; !!----</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; MPSD +VE - Find GamP, NuP given GamM, Cath and Anod</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; MPSD -VE - Find Cath, Anod given GamM, GamP and NuP</p>
<p>&nbsp;&nbsp;&nbsp; !!--&gt;&gt;</p>
<p>&nbsp;&nbsp;&nbsp; !!----</p>
<p>&nbsp;&nbsp;&nbsp; !!----&nbsp;&nbsp;&nbsp; Extended for D19 cylindrical banana (from MJ Turner, peak find ...)</p>
<p class=rvps3><span class=rvts11>Copyleft © 2011, FullProf Suite Team</span></p>
</body></html>
